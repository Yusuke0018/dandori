# ダンドリ - スマートなタスク管理アプリ

タスクを「いつかやる／特定の日にやる／この日の何時から何時にやる」の3種類に分類し、直感的に管理できるスマホ専用TODOアプリです。

## 🚀 現在の実装状況

### ✅ 実装済み機能

#### 基本機能
- **アプリ基盤**
  - ライトテーマのデザインシステム（CSS変数、8色のプロジェクトカラー）
  - レスポンシブレイアウト（モバイルファースト）
  - localStorageによるデータ永続化
  - JSONエクスポート/インポート機能の基盤

#### UI/UX
- **左端トグルパネル**
  - 画面左端の突起タブ（半透明、ホバーで強調）
  - タップまたは左端スワイプでパネル開閉
  - 今日/カレンダー/いつか/プロジェクト/完了履歴の切り替え
  - ミニカレンダーによる日付選択
  - バッジによる件数表示

- **進捗リング**
  - ヘッダーに今日のタスク完了率を円形プログレスバーで表示
  - リアルタイム更新（タスク完了時に自動反映）

- **ドラッグ&ドロップ**
  - モバイル：長押し（400ms）でドラッグ開始、振動フィードバック
  - デスクトップ：即座にドラッグ可能
  - someday ⇄ day ⇄ timed 間の自由な移動（段取り昇格）
  - 時間軸への15分単位スナップ配置
  - ドロップゾーンのハイライト表示
  - 時間衝突検出と自動退避

#### ビュー
- **タイムラインビュー（今日）**
  - 上部：時間未定の今日タスク
  - 下部：24時間の縦時間軸（60px/時間）
  - 現在時刻インジケーター（赤線）
  - 時間帯タスクの重複時左右分岐表示

- **ボードビュー（いつか）**
  - 整列グリッドレイアウト
  - プロジェクト色タグ表示

- **プロジェクトビュー**
  - 親プロジェクトカード（色帯、進捗バー）
  - 子タスク一覧（折りたたみ可能）

#### データモデル
- **3種類のタスク**
  - someday：日付なし
  - day：日付のみ
  - timed：日付＋時間範囲（開始・終了）
- **親子構造**
  - プロジェクト（親）とタスク（子）の2階層
  - 進捗自動計算

### 🚧 未実装機能

#### 優先度：高
- **タスク作成/編集モーダル**
  - タスク/プロジェクト切り替えトグル
  - 3種類の入力モード切り替え
  - 日付/時間ピッカー（15分刻み）
  - プロジェクト選択と色設定

- **スワイプジェスチャー**
  - 右スワイプ：削除
  - 左スワイプ：編集
  - 削除時の取り消し機能（3秒間）

- **タスク完了処理**
  - チェックボックスタップで完了
  - 完了アニメーション（弾む→フェードアウト）
  - 完了履歴の保存と表示

#### 優先度：中
- **未完了タスクの自動持ち越し**
  - 設定でON/OFF切り替え
  - 翌日同時刻への自動再配置
  - 衝突時の未定タスクへの退避

- **時間調整機能**
  - タイムライン上でのドラッグによる時間変更
  - 上下ドラッグでタスク時間の延長/短縮

- **設定画面**
  - 自動持ち越しON/OFF
  - 時間刻み設定（15分/30分）
  - データバックアップ/リストア

#### 優先度：低
- **PWA対応**
  - Service Worker実装
  - オフライン動作
  - ホーム画面アイコン（全サイズPNG書き出し）
  - プッシュ通知

- **アニメーション強化**
  - ページ遷移アニメーション
  - カード出現時のスタガーアニメーション
  - スプリングアニメーションの追加

- **その他**
  - 検索/フィルター機能
  - 繰り返しタスク
  - タスクのメモ/詳細説明
  - 複数選択と一括操作
  - ダークテーマ対応

## 🛠 技術スタック

- **フロントエンド**: Vanilla JavaScript (ES6 Modules)
- **スタイル**: CSS3 (CSS Variables, Grid, Flexbox)
- **データ**: localStorage (将来的にIndexedDB移行予定)
- **アイコン**: SVG（カタカナ「ダ」モチーフ）
- **対応環境**: iOS Safari, Android Chrome（最新版）

## 📱 使い方

1. ブラウザで `index.html` を開く
2. 右下の「＋」ボタンでタスク追加（未実装）
3. 左端の突起をタップ/スワイプでビュー切り替え
4. ドラッグ&ドロップでタスクの種類を変更

## 🔧 開発環境

```bash
# ローカルサーバー起動
python3 -m http.server 8000

# ブラウザで開く
open http://localhost:8000/
```

### アイコン生成
正方形PNG（例: icons/source.png）からPWA/ファビコンを生成できます。

```bash
bash scripts/generate-icons.sh icons/source.png
```

## 📝 今後の開発予定

1. **Phase 1**（〜1週間）
   - タスク作成/編集モーダル
   - スワイプジェスチャー
   - タスク完了処理

2. **Phase 2**（〜2週間）
   - 自動持ち越し機能
   - 時間調整機能
   - 設定画面

3. **Phase 3**（〜1ヶ月）
   - PWA対応
   - Service Worker
   - プッシュ通知

## 📄 ライセンス

MIT

## 👤 作者

ゆうすけ（@Yusuke0018）

---

**Repository**: https://github.com/Yusuke0018/dandori

## 🧩 Issue作成ガイド

不具合報告は「不具合報告（Actual/Expected/Advice/Environment）」テンプレートをご利用ください。詳細な書き方は docs/bugfix-request-guide.md を参照してください。
